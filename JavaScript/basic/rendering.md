# 렌더링(rendering)

## 🗂️ 목차

- 📚 [Client Side Rendering](#-client-side-rendering)

- 📚 [Server Side Rendering](#-server-side-rendering)

- 📚 [Static Site Generation](#-static-site-generation)

- 📚 [Incremental Static Regeneration](#-incremental-static-regeneration)

- 🔍 [기타 용어 정리](#-기타-용어-정리)

- 📎 [참고 자료](#-참고-자료)

<br /><br />

## 📚 Client Side Rendering

> <br />CSR은 클라이언트가 웹 페이지 요청 시 **최소한의 HTML을 서버로부터 받아오고, 이후 자바스크립트가 실행되며 페이지를 동적으로 렌더링하는 방식**이다.
> <br /><br />
> 이러한 방식은 **서버 부하를 줄이고 동적인 상호작용을 구현하는데 유리**하지만, **초기 로딩 시간이 길어질 수 있으며 SEO 최적화에 불리**할 수 있다.<br /><br />

<br />

### 개념

- CSR의 렌더링 주체는 클라이언트(브라우저)로, 서버는 기본적인 HTML만 제공하고 클라이언트에서 자바스크립트를 이용해 페이지를 렌더링한다.

- 필요한 데이터는 클라이언트에서 비동기적으로 API 호출을 통해 가져오며 이를 통해 화면을 동적으로 업데이트한다.

<br />

### 장점

- 한 번 로딩된 후에는 빠르게 화면을 변경할 수 있어 **사용자와 상호작용이 원활하다.**

- 한 번 로딩 후, 후속 페이지는 클라이언트에서 빠르게 처리되므로 **로딩 속도가 빠르다.**

- 서버는 최소한의 HTML만 제공하고, 추가적인 HTML 요청 없이 클라이언트에서 페이지를 렌더링하므로 **서버 부하가 작다.**

- 클라이언트에서 자바스크립트를 통해 데이터를 동적으로 갱신할 수 있어 **동적인 콘텐츠의 처리가 용이**하다.

<br />

### 단점

- 초기 HTML이 최소한만 제공되므로 검색 엔진 크롤러가 자바스크립트를 실행할 수 없을 수 있어 **SEO 최적화가 어려울 수 있다.**

- HTML만 로드된 상태에서 추가적인 데이터를 비동기적으로 받아와야 화면이 완전히 렌더링되기 때문에 **초기 로딩 속도(TTV)가 느리다.**

- **자바스크립트 의존도가 높아** 자바스크립트가 비활성화된 환경에서는 페이지가 제대로 표시되지 않을 수 있다.

- 클라이언트 측에서 데이터를 처리하므로 민감한 정보의 **보안 취약성**이 있다.

- 동적 콘텐츠가 많아 **CDN 캐싱이 어렵다.**

<br />

### 리액트에서의 CSR 동작 방식

1. 리액트 소스 코드를 로드하여 메모리에 탑재하고, 리액트가 실행된다.

2. HTML 페이지에 있는 `<div id="root"></div>`와 같은 루트 요소에 리액트 컴포넌트를 마운트한다.

3. 리액트는 첫 번째 컴포넌트를 렌더링하여 앱의 뼈대를 구성한다.

4. 컴포넌트는 JSX 코드로 작성되어 브라우저에서 실제 DOM 요소로 변환된다.

5. 변환된 DOM 요소는 가상 DOM과 비교하여 효율적으로 브라우저 화면에 페인팅된다.

<br /><br />

## 📚 Server Side Rendering

> <br />SSR은 **서버에서 HTML을 완전히 생성해서 클라이언트에 전달하는 렌더링 방식**이다. 즉, 클라이언트가 요청을 보내면 서버에서 데이터와 함께 HTML을 미리 렌더링하여 응답하고, 클라이언트는 이를 그대로 받아 즉시 화면에 표시한다.
> <br /><br />
> 이러한 방식은 **초기 로딩 속도를 개선하고 SEO에 유리**하지만, 모든 요청마다 HTML을 생성해야 하므로 **서버 부하가 증가하며 동적 상호작용이 많은 경우 CSR보다 구현이 복잡**할 수 있다.<br /><br />

<br />

### 개념

- SSR의 렌더링 주체는 서버로, 클라이언트가 웹 페이지 접근 시 HTML을 미리 생성하고 클라이언트에 전송한다.

- 해당 HTML은 이미 서버에서 데이터와 함께 렌더링 되어 있어, 클라이언트에서 추가적인 렌더링 작업이 필요하지 않다.

<br />

### 장점

- 클라이언트에서 별도의 동적 자바스크립트 코드를 구성할 필요가 없어 **초기 로딩 속도(TTV)가 빠르다.**

- 이미 완성된 HTML이 제공되어 있으므로 검색 엔진 크롤링과 인덱싱이 원활해 **SEO 최적화에 유리**하다.

- 요청마다 서버에서 HTML을 생성하므로 **실시간 데이터 반영 및 사용자별 맞춤 데이터 제공이 가능**하다.

- 서버에서 미리 데이터를 처리한 후 HTML을 전달하므로 API 요청이 노출될 위험이 적어 **보안에 유리**하다.

<br />

### 단점

- 요청마다 HTML을 생성해야 하므로 **서버 부하가 증가**할 수 있다.

- 서버에서 HTML을 생성하는 과정이 필요해 **초기 응답 시간(TTFB)이 길어질 수 있다.**

- **동적 상호작용이 많은 경우 CSR보다 구현이 복잡**할 수 있다.

- 매 요청마다 새로운 HTML을 생성하므로 정적인 파일처럼 **CDN에 캐싱하기 어려울 수 있다.**

<br /><br />

## 📚 Static Site Generation

> <br />SSG는 **빌드 타임에 웹 페이지를 미리 생성해 HTML 파일로 저장하는 렌더링 방식**이다. 즉, 서버나 클라이언트에서 데이터를 동적으로 불러오는 것이 아니라, **정적으로 생성된 HTML 파일**을 요청 시 즉시 제공한다.
> <br /><br />
> 이러한 방식은 **초기 로딩 속도를 개선하고 서버의 부하를 줄이는데 유리**하지만, **빌드 이후 변경된 데이터를 즉시 반영하기 어렵다**는 한계가 있다.<br /><br />

<br />

### 개념

- SSG는 웹사이트가 빌드될 때 모든 페이지를 미리 생성하여 정적인 HTML 파일로 저장하는 방식이다.

- 이 HTML 파일은 **서버 또는 CDN에 캐시**되어 있으며, 사용자의 요청이 있을 때 즉시 제공되므로 추가적인 데이터 요청 없이 빠르게 로딩된다.

<br />

### 장점

- 빌드 타임에 미리 생성된 HTML을 제공하므로 **최초 의미 있는 페인트(FMP)가 빠르다.**

- 클라이언트에서 자바스크립트 실행 없이도 HTML이 완전히 렌더링되므로 **자바스크립트가 필수적이지 않다.**

- 검색엔진 크롤러가 HTML을 쉽게 분석할 수 있어 **SEO 최적화에 유리**하다.

- 모든 페이지가 정적인 파일로 저장되므로 **CDN에 캐시가 가능**하며 **서버 부하가 낮다.**

- 동적인 요청없이 정적인 HTML만 제공되므로 **보안이 뛰어나다.**

<br />

### 단점

- 페이지가 정적으로 생성되므로 **데이터 변경 시 빌드를 다시 실행해야 한다.**

- **사용자별 맞춤 데이터를 제공하기 어려우며, 동적 데이터 처리가 제한적**이다.

- 빌드 이후 **변경되는 데이터를 즉시 반영하기 어렵다.**

<br /><br />

## 📚 Incremental Static Regeneration

> <br />ISR은 **빌드 타임에 생성된 정적 페이지를 일정 주기마다 갱신해 제공하는 렌더링 방식**이다. SSG와 동일한 원리로 동작하지만, 특정 주기마다 페이지를 다시 생성할 수 있다는 차이점이 있다.
> <br /><br />
> 이러한 방식은 **정적 페이지의 속도와 SEO 최적화 효과를 유지**하면서도, **일정 주기로 데이터를 업데이트**할 수 있는 유연성을 제공한다. 하지만 **실시간 데이터 반영이 어렵고, 사용자별 맞춤 정보를 제공하는 데 한계**가 있다.<br /><br />

<br />

### 개념

- ISR은 서버에서 **일정 주기마다 페이지를 다시 생성하여 최신 데이터를 반영**하는 방식이다.

- 기본적으로 SSG처럼 **빌드 타임에 HTML을 생성하여 저장**하지만, **특정 요청이 들어오면 주기적으로 새 HTML을 다시 생성**할 수 있다.

- 기존 HTML이 갱신될 때까지는 **캐시된 정적 페이지를 제공하므로 성능이 뛰어나다.**

- 업데이트 주기를 설정하면, 지정된 시간이 지난 후 첫 요청 시 서버가 기존 HTML을 제공하면서 백그라운드에서 새로운 HTML을 생성하고, 이후 요청부터 새로운 HTML을 제공한다.

<br />

### 장점

- SSG와 동일하게 **최초 의미있는 페인트가 빠르다.**

- 서버에서 미리 렌더링되므로 **자바스크립트가 필수적이지 않다.**

- 정적 HTML을 제공하므로 **검색 엔진이 쉽게 크롤링**할 수 있다.

- 클라이언트에서 데이터를 직접 요청하지 않으므로 API 노출이 적어 **보안성이 높다.**

- 기존 정적 페이지처럼 **CDN으로 캐싱**할 수 있어 트래픽을 효율적으로 분산할 수 있다.

- **빌드 없이도 일정 주기마다 데이터를 업데이트**할 수 있어 SSG의 한계를 극복한다.

<br />

### 단점

- 요청마다 **최신 데이터를 즉시 반영할 수 없다.**

- 모든 사용자에게 동일한 HTML을 제공하므로 **맞춤형 데이터 제공이 어렵다.**

- 페이지가 갱신되기 전까지는 기존 캐시된 HTML을 제공하므로 **UX가 다를 수 있다.**

- **갱신 주기 설정**이 필요하며, **캐시를 관리하는 전략**이 복잡할 수 있다.

<br /><br />

## 🔍 기타 용어 정리

### TTFB, TTV, TTI, FMP

- TTFB(Time To First Byte): 서버가 첫 번째 데이터를 반환하는 속도

- TTV(Time To Visible): 사용자가 화면을 시각적으로 인식할 수 있는 속도 (일반적으로 FMP와 유사한 개념으로 사용됨됨)

- TTI(Time To Interaction): 사용자가 페이지와 인터랙션할 수 있는 속도

- FMP(First Meaningful Paint): 웹 페이지가 초기 렌더링된 후, 기본 화면 레이아웃이 변경되고 웹 글꼴이 로드되는 시점

<br /><br />

## 📎 참고 자료

- [SSR, CSR, SSG는 무엇일까?](https://oliviakim.tistory.com/191)

- [SSR(Server Side Rendering)에 대해 설명해주세요.](https://www.maeil-mail.kr/question/48)

- [서버사이드 렌더링](https://www.youtube.com/watch?v=iZ9csAfU5Os)
